name: bastion pipeline

on: workflow_dispatch

permissions:
  id-token: write
  contents: read

jobs:
  terraform_job:
    runs-on: bastionrunner
    steps:
      - name: Checkout
        uses: actions/checkout@v5.0.0
    
      - name: HashiCorp - Setup Terraform
        uses: hashicorp/setup-terraform@v2.0.3
      
      - name: Azure Login
        uses: Azure/login@v2.3.0
        with:
          client-id: 1b4ba9c4-0b81-4591-a48c-5394e674a29e
          tenant-id: 25da0254-8640-4e13-9016-d3428661a477
          subscription-id: 972b29e5-b4b2-4f43-b814-02879737840d
                
      - name: Terraform Init
        run: terraform init
        working-directory: Environement
      
      # - name: Terraform Plan
      #   working-directory: Environement
      #   run: terraform plan
      
      # - name: Terraform Apply
      #   working-directory: Environement
      #   run: terraform apply -auto-approve
     
          

                
